<!--
  Generated template for the SitesReportPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>sites-report</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
	<ion-list>
		<ion-item>
			<ion-label>FORMAT</ion-label>
			<ion-select [(ngModel)]="toppings" multiple="true" cancelText="Nah" okText="Okay!">
				<ion-option value="bacon" selected="true">1600 x 1000</ion-option>
				<ion-option value="olives">300 x 250</ion-option>
				<ion-option value="xcheese" selected="true">970 x 250</ion-option>
				<ion-option value="peppers">728 x 90</ion-option>
				<ion-option value="mushrooms">300 x 600</ion-option>
				<ion-option value="onions">320 x 50</ion-option>
			</ion-select>
		</ion-item>
		<ion-item>
			<ion-label>POSITION</ion-label>
			<ion-select [(ngModel)]="toppings" multiple="true" cancelText="Nah" okText="Okay!">
				<ion-option value="bacon" selected="true">Haut</ion-option>
				<ion-option value="olives">Bas</ion-option>
				<ion-option value="xcheese" selected="true">STF</ion-option>
			</ion-select>
		</ion-item>
		<ion-item>
			<ion-label>Start Date</ion-label>
			<ion-datetime displayFormat="DD/MM/YYYY" pickerFormat="DD MMMM YYYY" [(ngModel)]="startDate"></ion-datetime>
		</ion-item>
		<ion-item>
			<ion-label>End Date</ion-label>
			<ion-datetime displayFormat="DD/MM/YYYY" pickerFormat="DD MMMM YYYY" [(ngModel)]="endDate"></ion-datetime>
		</ion-item>
	</ion-list>
	<button ion-button full>Apply</button>

  <ion-list>
		<p-dataTable [value]="rep" sortField="inventaire" rowGroupMode="subheader" groupField="inventaire" expandableRowGroups="true"
        [sortableRowGroup]="false">
    <p-header>Toggleable Row Groups with Footers</p-header>
    <ng-template pTemplate="rowgroupheader" let-rowData>{{rowData['inventaire']}}</ng-template>
			<p-column field="date" header="Date"></p-column>
			<p-column field="site" header="Site"></p-column>
			<p-column field="fillRate" header="Fill Rate"></p-column>
			<p-column field="impressions prises" header="Impressions"></p-column>
			<p-column field="revenu" header="Revenu">
        <ng-template let-col let-car="rowData" pTemplate="body">
            <span>{{car[col.field] | currency:'USD':true:'.0-0'}}</span>
        </ng-template>
    </p-column>
    <ng-template pTemplate="rowgroupfooter" let-car>
        <td colspan="3" style="text-align:right">Total Revenu</td>
				<td>{{calculateGroupTotal(car['inventaire'], "impressions prises")}}</td>
        <td>{{calculateGroupTotal(car['inventaire'], "revenu") | currency:'USD':true:'.0-0' }}</td>
    </ng-template>
</p-dataTable>
  </ion-list>
</ion-content>
